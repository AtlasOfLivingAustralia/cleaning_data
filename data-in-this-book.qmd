---
editor: 
  markdown: 
    wrap: 72
number-depth: 3
code-annotations: hover
execute: 
  eval: false
---

# Data in this book {.unnumbered}

This chapter contains several datasets used in this book which you can download using the supplied download link.

This book mainly uses data DOIs to preserve reproducible data downloads, as most data is downloaded from the [Atlas of Living Australia (ALA)](https://ala.org.au/) using the [galah package](https://galah.ala.org.au/R/), the ALA's R interface to downloading biodiversity data. You can download data using these DOIs at the beginning of each chapter (in the *Prerequisites* section). We also supply the original data download query at the start of each chapter, which you can choose to use instead. 

::: {.callout-note collapse="true" appearance="simple"}

#### Using original download queries

If you download data using a galah query (not a DOI), the results you return when running the examples in this book might not exactly match results in this book. This difference arises because data in the ALA is constantly being ingested (including from previous years). galah downloads data directly from the ALA, meaning that data downloaded after the date this book was rendered, even using a query for a specific time-period (e.g., 2010-2015), *might* differ from data downloaded using the same query at the time of rendering. In general, that is a good thing---updates improve data quantity and/or quality---but it can affect reproducibility. In general, this shouldn't affect whether the example works correctly, but it may affect whether the results you return in your console match the results returned in this book. The main advantage to using *Prerequisites* sections is that data downloads are transparent and up-to-date.

:::

### Prerequisites

```{r}
#| warning: false
#| message: false
library(arrow)
library(dplyr)
library(readr)
```

## Data

### `inverts`

This is a subset of a larger dataset---[Curated Plant and Invertebrate Dataset for Bushfire Modelling](https://data.csiro.au/collection/csiro:56679). 

::: aside

<img src="https://ala-images.s3.ap-southeast-2.amazonaws.com/store/0/5/6/a/ca48dfdd-15b3-4ac5-a392-cf5f93a6a650/original" class="rounded"/></img>

::: figure-caption
[*Paralaoma mucoides* on a rock.<br>Photo by Nick Porch CC-BY-NC 4.0
(Int)](https://biocache.ala.org.au/occurrences/8a44a8df-2819-45d4-b8c5-e6dc7629e0fe)
:::
:::

Click on the download button below to download as a parquet file. Save the parquet in your working directory and load it using the code below.

{{< downloadthis data/dap/inverts_subset.parquet dname="inverts" label="Download inverts data" icon="database-fill-down" id=download-button >}}

```{r}
#| eval: false
#| warning: false
#| message: false
inverts <- here("path", "to", "inverts.parquet") |>
  arrow::open_dataset() |> 
  collect()
```

### `gbif_species_list`

A species list of *Eucalyptus* downloaded from GBIF.

Click on the download button below to download as a parquet file. Save the parquet in your working directory and load it using the code below.

{{< downloadthis data/lists/gbif_eucalyptus.parquet dname="gbif_species_list" label="Download gbif_species_list data" icon="database-fill-down" id=download-button >}}

```{r}
#| eval: false
gbif_species_list <- here("path", "to", "gbif_species_list.parquet") |>
  arrow::read_parquet() |>
  collect()
```


### `marine_sp`

A subset of World Register of Marine Species (WoRMS) data.

Click on the download button to download as a .csv file. Save the csv in your working directory and load it using the code below.

{{< downloadthis data/worms/worms.csv dname="marine_sp" label="Download marine_sp data" icon="database-fill-down" id=download-button >}}

```{r}
#| eval: false
marine_sp <- readr::read_csv(
  here("path","to", "worms.csv"))
```

